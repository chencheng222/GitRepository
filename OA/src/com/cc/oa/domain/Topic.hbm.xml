<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping package="com.cc.oa.domain">

    <class name="Topic" table="topic">
        <id name="id">
            <generator class="native"/>
        </id>

        <property name="title"/>
        <property name="content" type="text" length="50000"/>
        <property name="faceIcon"/>
        <property name="postTime" type="timestamp"/>
        <property name="ipAddr"/>
        <property name="type" type="integer"/>
        <property name="replyCount" type="integer"/>
        <property name="lastUpdateTime" type="timestamp"/>
        
        <!--author属性:本类与User多对一  -->
        <many-to-one name="author" class="User" column="authorId" lazy="false"></many-to-one>
        
        <!--forum属性:本类与Forum多对一  -->
        <many-to-one name="forum" class="Forum" column="forumId" lazy="false"></many-to-one>
        
        <!--replies属性:本类与Reply一对多 -->
        <set name="replies" lazy="false">
        	<key column="topicId"/>
        	<one-to-many class="Topic"/>
        </set>
        
        <!--lastReply属性:本类与Reply一对一  -->
        <many-to-one name="lastReply" class="Reply" column="lastReplyId" unique="true"></many-to-one>
    </class>
</hibernate-mapping>
